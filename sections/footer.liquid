{% comment %}theme-check-disable UndefinedObject{% endcomment %}
{{ 'section-footer.css' | asset_url | stylesheet_tag }}

{%- style -%}
  {% comment %}.footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      left: 0;
      height: 21.9rem;
    overflow: hidden;
    transition: height 0.2s ease-in-out;
  }{% endcomment %}

  .footer:hover {
    height: auto;
  }

  @media screen and (min-width: 750px) {
    .footer {
      margin-top: {{ section.settings.margin_top }}px;
    }
  }
{%- endstyle -%}

<footer class="footer lst:bg-white lst:pt-[2.6182rem] lst:pb-0  lst:group-hover:bg-[#ECECEC] lst:transition-colors">
  <div class="page-width">
    {%- comment -%} Newsletter Section with Social Links {%- endcomment -%}
    <div class="footer__newsletter-section lst:flex lst:flex-col lst:items-center lst:mb-10">
      {%- comment -%} Social Links {%- endcomment -%}
      <div class="footer__social-links lst:flex lst:gap-12 lst:mb-6 lst:text-[1.2273rem]">
        {% if section.settings.email_link != blank %}
          <a href="mailto:{{ section.settings.email_link }}" class="lst:no-underline lst:text-black lst:hover:underline">
            e-mail
          </a>
        {% endif %}
        {% if section.settings.instagram_link != blank %}
          <a href="{{ section.settings.instagram_link }}" target="_blank" rel="noopener" class="lst:no-underline lst:text-black lst:hover:underline">
            Instagram
          </a>
        {% endif %}
        {% if section.settings.facebook_link != blank %}
          <a href="{{ section.settings.facebook_link }}" target="_blank" rel="noopener" class="lst:no-underline lst:text-black lst:hover:underline">
            Facebook
          </a>
        {% endif %}
        {% if section.settings.threads_link != blank %}
          <a href="{{ section.settings.threads_link }}" target="_blank" rel="noopener" class="lst:no-underline lst:text-black lst:hover:underline">
            Threads
          </a>
        {% endif %}
      </div>

      {%- comment -%} Newsletter curved text SVG {%- endcomment -%}
      <div class="footer__newsletter-svg lst:mb-8 lst:max-w-full lst:w-full">
        {% if request.locale.iso_code == 'en' %}
          {{ 'newsletter-en.svg' | asset_url | img_tag: '', 'lst:w-full lst:h-auto lst:max-w-[62.5909rem] lst:mx-auto' }}
        {% else %}
          {{ 'newsletter-fr.svg' | asset_url | img_tag: '', 'lst:w-full lst:h-auto lst:max-w-[62.5909rem] lst:mx-auto' }}
        {% endif %}
      </div>

      {%- comment -%} Newsletter Form {%- endcomment -%}
      {% if section.settings.newsletter_enable %}
        <div class="footer__newsletter-form lst:flex lst:gap-3 lst:max-w-[480px] lst:w-full">
          {% form 'customer', class: 'newsletter-form lst:flex lst:gap-3 lst:w-full' %}
            <input type="hidden" name="contact[tags]" value="newsletter">
            <div class="lst:flex-1">
              <input
                id="NewsletterForm--{{ section.id }}"
                type="email"
                name="contact[email]"
                class="lst:rounded-[0.9rem]!"
                value="{{ form.email }}"
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="email"
                {% if form.errors %}
                  autofocus
                  aria-invalid="true"
                  aria-describedby="Newsletter-error--{{ section.id }}"
                {% elsif form.posted_successfully? %}
                  aria-describedby="Newsletter-success--{{ section.id }}"
                {% endif %}
                placeholder="{{ 'newsletter.label' | t }}"
                required
              >
            </div>
            <button
              type="submit"
              class="button button--primary"
              name="commit"
              aria-label="{{ 'newsletter.button_label' | t }}"
            >
              {{ 'newsletter.button_label' | t }}
            </button>
          {% endform %}
        </div>

        {%- comment -%} Form Messages {%- endcomment -%}
        {% if form.posted_successfully? %}
          <div class="newsletter-form__message newsletter-form__message--success lst:mt-4 lst:text-sm lst:text-center">
            {{ 'newsletter.success' | t }}
          </div>
        {% endif %}
        {% if form.errors %}
          <div class="newsletter-form__message newsletter-form__message--error lst:mt-4 lst:text-sm lst:text-center lst:text-red-600">
            {{ form.errors | default_errors }}
          </div>
        {% endif %}
      {% endif %}
    </div>

    {%- comment -%} Store Information Section {%- endcomment -%}
    <div class="footer__info-section lst:text-center lst:mb-8 lst:text-xs lst:space-y-3">
      <p>
        {{ section.settings.store_address | default: 'Librairie sans titre, 2 rue Auguste Barbier — 75011 Paris, France' }}
      </p>
      <div class="footer__hours lst:flex lst:justify-center lst:gap-8 lst:flex-wrap">
        <span>{{ section.settings.hours_monday | default: 'lundi FERMÉ' }}</span>
        <span>{{ section.settings.hours_weekday | default: 'mardi → samedi 10:30–19:30' }}</span>
        <span>{{ section.settings.hours_sunday | default: 'dimanche 12:00–18:00' }}</span>
      </div>
      <p class="footer__contact lst:space-x-3">
        {% if section.settings.contact_email != blank %}
          <a href="mailto:{{ section.settings.contact_email }}" class="lst:no-underline lst:text-black lst:hover:underline">
            {{ section.settings.contact_email }}
          </a>
        {% endif %}
        {% if section.settings.contact_phone != blank %}
          <span>{{ section.settings.contact_phone }}</span>
        {% endif %}
      </p>
    </div>

    {%- comment -%} Footer Bottom Links {%- endcomment -%}
    <div class="footer__bottom lst:border-t lst:border-[#808080] lst:pt-0 ">
      <div class="lst:grid lst:grid-cols-4 lst:gap-0 lst:divide-x lst:divide-[#808080] lst:border-b lst:border-[#808080]">
        {% if section.settings.link_cvg != blank %}
          <a href="{{ section.settings.link_cvg }}" class="lst:no-underline lst:text-[#808080] lst:bg-white lst:hover:text-black lst:text-[0.8182rem] lst:px-4 lst:py-2 lst:transition-colors lst:text-center">
            C.V.G.
          </a>
        {% endif %}

        {% if section.settings.link_mentions != blank %}
          <a href="{{ section.settings.link_mentions }}" class="lst:no-underline lst:text-[#808080] lst:bg-white lst:hover:text-black lst:text-[0.8182rem] lst:px-4 lst:py-2 lst:transition-colors lst:text-center">
            Mentions légales
          </a>
        {% endif %}

        {% if section.settings.link_delivery != blank %}
          <a href="{{ section.settings.link_delivery }}" class="lst:no-underline lst:text-[#808080] lst:bg-white lst:hover:text-black lst:text-[0.8182rem] lst:px-4 lst:py-2 lst:transition-colors lst:text-center">
            Livraisons
          </a>
        {% endif %}

        {%- if section.settings.enable_country_selector and localization.available_countries.size > 1 -%}
          <localization-form>
            {%- form 'localization', id: 'FooterCountryFormInline', class: 'localization-form lst:inline lst:py-0! lst:bg-white lst:w-full! lst:m-0! lst:flex!' -%}
              <div class="lst:inline-flex lst:items-center lst:gap-2 lst:px-4 lst:py-2">
                <span class="lst:text-sm">Pays/région</span>
                {%- render 'country-localization', localPosition: 'FooterCountryInline' -%}
              </div>
            {%- endform -%}
          </localization-form>
        {%- endif -%}
      </div>

      {%- comment -%} Copyright and Credits {%- endcomment -%}
      <div class="footer__copyright lst:bg-white lst:text-[0.8182rem] lst:py-2 lst:mt-0! lst:grid lst:grid-cols-2">
        <p class="lst:text-left lst:px-2">
          &copy; {{ 'now' | date: '%Y' }}, {{ shop.name | link_to: routes.root_url }} |
          <a href="http://rakun.ie" target="_blank" rel="noopener" class="lst:no-underline lst:hover:underline">
            Développé par Rakun.ie
          </a> |
          <a href="https://alexandrie.app" target="_blank" rel="noopener" class="lst:no-underline lst:hover:underline">
            Propulsé par Alexandrie
          </a>
        </p>
        <p class="lst:text-right lst:px-2">
          Typographie : Vermeille © Loris Pernoux, Brest Brest Brest
        </p>
      </div>
    </div>
  </div>
</footer>


{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "header",
      "content": "Newsletter"
    },
    {
      "type": "checkbox",
      "id": "newsletter_enable",
      "default": true,
      "label": "Show newsletter signup"
    },
    {
      "type": "header",
      "content": "Social Links"
    },
    {
      "type": "text",
      "id": "email_link",
      "label": "Email address",
      "default": "infos@librairiessanstitre.com"
    },
    {
      "type": "url",
      "id": "instagram_link",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "facebook_link",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "threads_link",
      "label": "Threads URL"
    },
    {
      "type": "header",
      "content": "Store Information"
    },
    {
      "type": "text",
      "id": "store_address",
      "label": "Store address",
      "default": "Librairie sans titre, 2 rue Auguste Barbier — 75011 Paris, France"
    },
    {
      "type": "text",
      "id": "hours_monday",
      "label": "Monday hours",
      "default": "lundi FERMÉ"
    },
    {
      "type": "text",
      "id": "hours_weekday",
      "label": "Weekday hours",
      "default": "mardi → samedi 10:30–19:30"
    },
    {
      "type": "text",
      "id": "hours_sunday",
      "label": "Sunday hours",
      "default": "dimanche 12:00–18:00"
    },
    {
      "type": "text",
      "id": "contact_email",
      "label": "Contact email",
      "default": "infos@librairiessanstitre.com"
    },
    {
      "type": "text",
      "id": "contact_phone",
      "label": "Contact phone",
      "default": "+33 1 48 07 51 34"
    },
    {
      "type": "header",
      "content": "Footer Links"
    },
    {
      "type": "url",
      "id": "link_cvg",
      "label": "C.V.G. link"
    },
    {
      "type": "url",
      "id": "link_mentions",
      "label": "Mentions légales link"
    },
    {
      "type": "url",
      "id": "link_delivery",
      "label": "Livraisons link"
    },
    {
      "type": "checkbox",
      "id": "enable_country_selector",
      "default": true,
      "label": "Enable country/region selector"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin top",
      "default": 0
    }
  ]
}
{% endschema %}
