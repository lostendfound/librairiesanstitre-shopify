function n(){}n.hasClass=function(i,c){return i.classList.contains(c)};n.addClass=function(i,c){var m=c.split(" ");i.classList.add(m[0]),m.length>1&&n.addClass(i,m.slice(1).join(" "))};n.removeClass=function(i,c){var m=c.split(" ");i.classList.remove(m[0]),m.length>1&&n.removeClass(i,m.slice(1).join(" "))};n.setAttributes=function(i,c){for(var m in c)i.setAttribute(m,c[m])};n.moveFocus=function(i){i||(i=document.getElementsByTagName("body")[0]),i.focus(),document.activeElement!==i&&(i.setAttribute("tabindex","-1"),i.focus())};n.getIndexInArray=function(i,c){return Array.prototype.indexOf.call(i,c)};n.cssSupports=function(i,c){return CSS.supports(i,c)};n.extend=function(){var i={},c=!1,m=0,A=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(c=arguments[0],m++);for(var E=function(p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(c&&Object.prototype.toString.call(p[g])==="[object Object]"?i[g]=extend(!0,i[g],p[g]):i[g]=p[g])};m<A;m++){var C=arguments[m];E(C)}return i};(function(){var i=function(t){this.options=n.extend(i.defaults,t),this.element=this.options.element,this.items=this.element.getElementsByClassName("js-slideshow__item"),this.controls=this.element.getElementsByClassName("js-slideshow__control"),this.selectedSlide=0,this.autoplayId=!1,this.autoplayPaused=!1,this.navigation=!1,this.navCurrentLabel=!1,this.ariaLive=!1,this.moveFocus=!1,this.animating=!1,this.supportAnimation=n.cssSupports("transition"),this.counter=this.element.getElementsByClassName("js-carousel__counter"),this.counterTor=this.element.getElementsByClassName("js-carousel__counter-tot"),this.animationOff=!n.hasClass(this.element,"slideshow--transition-fade")&&!n.hasClass(this.element,"slideshow--transition-slide")&&!n.hasClass(this.element,"slideshow--transition-prx"),this.animationType=n.hasClass(this.element,"slideshow--transition-prx")?"prx":"slide",this.animatingClass="slideshow--is-animating",c(this),A(this),E(this),p(this)};i.prototype.showNext=function(){d(this,this.selectedSlide+1,"next")},i.prototype.showPrev=function(){d(this,this.selectedSlide-1,"prev")},i.prototype.showItem=function(t){d(this,t,!1)},i.prototype.startAutoplay=function(){var t=this;this.options.autoplay&&!this.autoplayId&&!this.autoplayPaused&&(t.autoplayId=setInterval(function(){t.showNext()},t.options.autoplayInterval))},i.prototype.pauseAutoplay=function(){var t=this;this.options.autoplay&&(clearInterval(t.autoplayId),t.autoplayId=!1)};function c(t){console.log(t),t.counterTor.length>0&&(t.counterTor[0].textContent=t.items.length),m(t)}function m(t){if(t.counter.length!=0){var e=t.selectedSlide+1;e>t.items.length&&(e=t.items.length),t.counter[0].textContent=e}}function A(t){t.element.getElementsByClassName("slideshow__item--selected").length<1&&n.addClass(t.items[0],"slideshow__item--selected"),t.selectedSlide=n.getIndexInArray(t.items,t.element.getElementsByClassName("slideshow__item--selected")[0]);var e=document.createElement("div");n.setAttributes(e,{class:"lst:sr-only js-slideshow__aria-live","aria-live":"polite","aria-atomic":"true"}),t.element.getElementsByClassName("js-slideshow-bullets")[0].appendChild(e),t.ariaLive=e}function E(t){if(t.options.navigation){if(t.element.getElementsByClassName("js-slideshow__navigation").length==0){var e=document.createElement("ol"),a="",s=t.options.navigationClass+" js-slideshow__navigation lst:col-start-3";t.items.length<=1&&(s=s+" hidden"),e.setAttribute("class",s);for(var r=0;r<t.items.length;r++){var o=r==t.selectedSlide?'class="'+t.options.navigationItemClass+" "+t.options.navigationItemClass+'--selected js-slideshow__nav-item"':'class="'+t.options.navigationItemClass+' js-slideshow__nav-item"',y=r==t.selectedSlide?'<span class="lst:sr-only js-slideshow__nav-current-label">Current Item</span>':"";a=a+"<li "+o+'><button class="reset"><span class="lst:sr-only">'+(r+1)+"</span>"+y+"</button></li>"}e.innerHTML=a,t.element.getElementsByClassName("js-slideshow-bullets")[0].appendChild(e)}t.navCurrentLabel=t.element.getElementsByClassName("js-slideshow__nav-current-label")[0],t.navigation=t.element.getElementsByClassName("js-slideshow__nav-item");var v=t.element.getElementsByClassName("js-slideshow__navigation")[0];v.addEventListener("click",function(l){C(t,l,!0)}),v.addEventListener("keyup",function(l){C(t,l,l.key.toLowerCase()=="enter")})}t.controls.length>0&&(t.items.length<=1&&(n.addClass(t.controls[0],"hidden"),n.addClass(t.controls[1],"hidden")),t.controls[0].addEventListener("click",function(l){l.preventDefault(),t.showPrev(),b(t)}),t.controls[1].addEventListener("click",function(l){l.preventDefault(),t.showNext(),b(t)})),t.options.swipe&&(new SwipeContent(t.element),t.element.addEventListener("swipeLeft",function(l){t.showNext()}),t.element.addEventListener("swipeRight",function(l){t.showPrev()})),t.options.autoplay&&(t.startAutoplay(),t.options.autoplayOnHover||(t.element.addEventListener("mouseenter",function(l){t.pauseAutoplay(),t.autoplayPaused=!0}),t.element.addEventListener("mouseleave",function(l){t.autoplayPaused=!1,t.startAutoplay()})),t.options.autoplayOnFocus||(t.element.addEventListener("focusin",function(l){t.pauseAutoplay(),t.autoplayPaused=!0}),t.element.addEventListener("focusout",function(l){t.autoplayPaused=!1,t.startAutoplay()})));var f=t.element.getAttribute("id");if(f)for(var _=document.querySelectorAll('[data-controls="'+f+'"]'),r=0;r<_.length;r++)(function(k){O(t,_[k])})(r);t.element.addEventListener("selectNewItem",function(l){if(l.detail){if(l.detail-1==t.selectedSlide)return;d(t,l.detail-1,!1)}}),t.element.addEventListener("keydown",function(l){l.keyCode&&l.keyCode==39||l.key&&l.key.toLowerCase()=="arrowright"?t.showNext():(l.keyCode&&l.keyCode==37||l.key&&l.key.toLowerCase()=="arrowleft")&&t.showPrev()})}function C(t,e,a){var s=n.hasClass(e.target,"js-slideshow__nav-item")?e.target:e.target.closest(".js-slideshow__nav-item");a&&s&&!n.hasClass(s,"slideshow__nav-item--selected")&&(t.showItem(n.getIndexInArray(t.navigation,s)),t.moveFocus=!0,b(t))}function p(t){for(var e=0;e<t.items.length;e++)(function(a){t.items[a].addEventListener("animationend",function(){h(t,t.items[a])}),t.items[a].addEventListener("transitionend",function(){h(t,t.items[a])})})(e)}function g(t,e,a){const s=document.createElement("canvas"),r=s.getContext("2d");s.width=t.naturalWidth,s.height=t.naturalHeight,r.drawImage(t,0,0);try{const o=r.getImageData(e,a,1,1).data;return{r:o[0],g:o[1],b:o[2],a:o[3],hex:`#${o[0].toString(16).padStart(2,"0")}${o[1].toString(16).padStart(2,"0")}${o[2].toString(16).padStart(2,"0")}`}}catch(o){return console.error("Error getting image data:",o),null}finally{s.remove()}}function N(t,e){const a=[{x:-5,y:-5},{x:-5,y:0},{x:0,y:-5},{x:5,y:5},{x:0,y:5},{x:5,y:0}],s=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=a.map(v=>{const f=Math.floor((s.left-r.left+v.x)*(t.naturalWidth/r.width)),_=Math.floor((s.top-r.top+v.y)*(t.naturalHeight/r.height));return g(t,f,_)}).filter(Boolean);return o.length===0?null:o.reduce((v,f)=>v+(f.r*299+f.g*587+f.b*114)/1e3,0)/o.length}function S(t){const a=t.items[t.selectedSlide].querySelector("img");if(console.log(a),!a||!a.complete)return;const s=t.controls;for(let r=0;r<s.length;r++){const o=s[r],y=N(a,o);y!==null&&(o.style.color=y>128?"#000000":"#ffffff")}}function h(t,e){setTimeout(function(){n.hasClass(e,"slideshow__item--selected")&&(t.moveFocus&&n.moveFocus(e),L(t,"newItemVisible",t.selectedSlide),t.moveFocus=!1),n.removeClass(e,"slideshow__item--"+t.animationType+"-out-left slideshow__item--"+t.animationType+"-out-right slideshow__item--"+t.animationType+"-in-left slideshow__item--"+t.animationType+"-in-right"),e.removeAttribute("aria-hidden"),t.animating=!1,n.removeClass(t.element,t.animatingClass)},100)}function d(t,e,a){if(t.items.length<=1||t.animating&&t.supportAnimation)return;if(t.animating=!0,n.addClass(t.element,t.animatingClass),e<0?e=t.items.length-1:e>=t.items.length&&(e=0),a&&n.hasClass(t.items[e],"hidden")){t.animating=!1,e=a=="next"?e+1:e-1,d(t,e,a);return}if(e==t.selectedSlide){t.animating=!1;return}var s=T(t,a,t.selectedSlide,e),r=j(t,a,t.selectedSlide,e);t.animationOff||n.addClass(t.items[t.selectedSlide],s),n.removeClass(t.items[t.selectedSlide],"slideshow__item--selected"),t.items[t.selectedSlide].setAttribute("aria-hidden","true"),t.animationOff?n.addClass(t.items[e],"slideshow__item--selected"):n.addClass(t.items[e],r+" slideshow__item--selected"),B(t,e,t.selectedSlide),t.selectedSlide=e,t.pauseAutoplay(),t.startAutoplay(),x(t,e),L(t,"newItemSelected",t.selectedSlide),S(t),t.animationOff&&(t.animating=!1,n.removeClass(t.element,t.animatingClass)),m(t);const o=t.items[e].querySelector("img");o&&(o.complete?S(t):o.addEventListener("load",()=>{S(t)},{once:!0}))}function T(t,e,a,s){var r="";return e?r=e=="next"?"slideshow__item--"+t.animationType+"-out-right":"slideshow__item--"+t.animationType+"-out-left":r=s<a?"slideshow__item--"+t.animationType+"-out-left":"slideshow__item--"+t.animationType+"-out-right",r}function j(t,e,a,s){var r="";return e?r=e=="next"?"slideshow__item--"+t.animationType+"-in-right":"slideshow__item--"+t.animationType+"-in-left":r=s<a?"slideshow__item--"+t.animationType+"-in-left":"slideshow__item--"+t.animationType+"-in-right",r}function B(t,e,a){t.navigation&&(n.removeClass(t.navigation[a],"slideshow__nav-item--selected"),n.addClass(t.navigation[e],"slideshow__nav-item--selected"),t.navCurrentLabel.parentElement.removeChild(t.navCurrentLabel),t.navigation[e].getElementsByTagName("button")[0].appendChild(t.navCurrentLabel))}function x(t,e){var a=t.items[e].getAttribute("data-theme");a?(t.navigation&&t.navigation[0].parentElement.setAttribute("data-theme",a),t.controls[0]&&t.controls[0].parentElement.setAttribute("data-theme",a)):(t.navigation&&t.navigation[0].parentElement.removeAttribute("data-theme"),t.controls[0]&&t.controls[0].parentElement.removeAttribute("data-theme"))}function L(t,e,a){var s=new CustomEvent(e,{detail:a});t.element.dispatchEvent(s)}function b(t){t.ariaLive.innerHTML="Item "+(t.selectedSlide+1)+" of "+t.items.length}function O(t,e){e.addEventListener("click",function(a){var s=e.getAttribute("data-index");!s||s==t.selectedSlide+1||(a.preventDefault(),d(t,s-1,!1))})}i.defaults={element:"",navigation:!0,autoplay:!1,autoplayOnHover:!1,autoplayOnFocus:!1,autoplayInterval:5e3,navigationItemClass:"slideshow__nav-item",navigationClass:"slideshow__navigation",swipe:!1},window.Slideshow=i;var u=document.getElementsByClassName("js-slideshow");if(u.length>0)for(var I=0;I<u.length;I++)(function(t){var e=!(u[t].getAttribute("data-navigation")&&u[t].getAttribute("data-navigation")=="off"),a=!!(u[t].getAttribute("data-autoplay")&&u[t].getAttribute("data-autoplay")=="on"),s=!!(u[t].getAttribute("data-autoplay-hover")&&u[t].getAttribute("data-autoplay-hover")=="on"),r=!!(u[t].getAttribute("data-autoplay-focus")&&u[t].getAttribute("data-autoplay-focus")=="on"),o=u[t].getAttribute("data-autoplay-interval")?u[t].getAttribute("data-autoplay-interval"):5e3,y=!!(u[t].getAttribute("data-swipe")&&u[t].getAttribute("data-swipe")=="on"),v=u[t].getAttribute("data-navigation-item-class")?u[t].getAttribute("data-navigation-item-class"):"slideshow__nav-item",f=u[t].getAttribute("data-navigation-class")?u[t].getAttribute("data-navigation-class"):"slideshow__navigation";new i({element:u[t],navigation:e,autoplay:a,autoplayOnHover:s,autoplayOnFocus:r,autoplayInterval:o,swipe:y,navigationItemClass:v,navigationClass:f})})(I)})();
